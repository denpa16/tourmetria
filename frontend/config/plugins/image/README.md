[Вернуться к структуре](../../../README.md)

# Работа с изображениями
На проекте используется модуль [$image](image.js),
который предназначен для генерации ссылки на изображение обработанное сервисом [ImgProxy](https://imgproxy.net/)

## **Как использовать ImgProxy ?**
Для корректной работы в `.env` должны быть переменные

```
IMGPROXY_SITE_HOST=https://site.idacloud.ru/proxy
```

### **Использование внутри шаблона**
```html
<img :src="$image.gen('image_path.ext', {...options})"/>
```

### **Использование внутри _computed_ свойств или _методов_**

```javascript
export default {
     ...,
        computed: {
          someImage() {
              return this.$image.gen('some_image_path.ext', {...options});
        },
     },
};
```
❗**Внимание:** Путь до изображения должен быть относительным, т.е. без «/» в начале пути

### **Какие параметры доступны?**

| Ключ  | Название   | Значение                                                                                                         |
|-------|------------|------------------------------------------------------------------------------------------------------------------|
| `q`   | Качество   | 0...100 (если поставить 0 то будет 85)                                                                           |
| `fit` | Заполнение | boolean (либо изображение вписывается в артборд, либо заполняется его)                                           |
| `w`   | Ширина     | Number (ширина артбода сгенерированного изображения, при значении 0 будет значение исходного изображения)        |
| `h`   | Высота     | Number (высота артбода сгенерированного изображения, при значении 0 будет значение исходного изображения)        |
| `g`   | Позиция    | ['no', 'so', 'ea', 'we', 'ce'....] [Более подробно тут](https://docs.imgproxy.net/generating_the_url?id=gravity) |
| `bl`  | Размытие   | Number                                                                                                           |
| `bg`  | Фон        | Можно hex, а можно rgb через «:»                                                                                 |
| `ex`  | Расширение | ['jpg', 'png', 'webp', ...] [Остальные значения тут]( https://docs.imgproxy.net/image_formats_support)           |


```html
<img :src="$image.gen('/pulppixel22.png', {w: 20, h: 20, ex:'png'})"/>
```

**Важно:**

> * Не используйте формат ImgProxy - когда картинка приходит в svg - это могут быть различные планировки / иконки
> * Используйте его на баннерах / слайдерах и тд, там где точно уверены, что картинки будут приходить в png/jpg
